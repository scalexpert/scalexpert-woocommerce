{"version":3,"file":"scalexpert.js","mappings":"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","sources":["webpack://woo-scalexpert/./js/components/account.js","webpack://woo-scalexpert/./js/components/modal.js","webpack://woo-scalexpert/./js/components/payment.js","webpack://woo-scalexpert/./js/components/product.js","webpack://woo-scalexpert/webpack/bootstrap","webpack://woo-scalexpert/webpack/runtime/compat get default export","webpack://woo-scalexpert/webpack/runtime/define property getters","webpack://woo-scalexpert/webpack/runtime/hasOwnProperty shorthand","webpack://woo-scalexpert/webpack/runtime/make namespace object","webpack://woo-scalexpert/./js/front.js","webpack://woo-scalexpert/./scss/front.scss?22a1"],"sourcesContent":["/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nlet $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    $ = jQuery;\n\n\n    let btnNeworder = '#sg_newOrder #newBasket';\n\n    // check if btn in DOM\n    if ($(btnNeworder).length) {\n        createOverlay();\n        addEventOnButtonReOrder(btnNeworder);\n    }\n});\n\nfunction addEventOnButtonReOrder(btnNeworder) {\n    if ($(btnNeworder).length) {\n        // When click btn\n        $(btnNeworder).off().on('click', function (e) {\n            e.preventDefault();\n            callAjax(btnNeworder);\n            return;\n        });\n    }\n}\n\nfunction createOverlay() {\n    let html = '';\n    html += '<div id=\"sg_overlay\"><div class=\"sg_loader\"></div></div>';\n    $('body').append(html);\n}\n\nfunction openOverlay(){\n    $('#sg_overlay').attr('data-open', 'true');\n}\n\nfunction closeOverlay(){\n    $('#sg_overlay').attr('data-open', 'false');\n}\n\nfunction callAjax(btnNeworder) {\n    if ($(btnNeworder).length && typeof sg_recreateCart_object !== 'undefined' && typeof sg_recreateCart_object.ajaxurl !== 'undefined') {\n        let idOrder = parseInt($(btnNeworder).attr('data-orderId'));\n        if (!isNaN(idOrder)) {\n\n            $.ajax({\n                type: 'POST',\n                headers: {\"cache-control\": \"no-cache\"},\n                url: sg_recreateCart_object.ajaxurl,\n                async: true,\n                cache: false,\n                dataType: 'html',\n                data: {\n                    ajax: true,\n                    action: 'sg_recreateCart',\n                    orderID: idOrder\n                },\n                beforeSend: openOverlay()\n            }).success(function (response) {\n                if (typeof response !== 'undefined' && response) {\n                    successAjax();\n                } else {\n                    errorAjax(btnNeworder);\n                }\n            }).error(function () {\n                errorAjax(btnNeworder);\n            });\n        }\n    }\n}\n\nfunction errorAjax(btnNeworder) {\n    let txtError = 'New order creation failed !';\n\n    if($(btnNeworder).attr('data-errorText')) {\n        txtError = $(btnNeworder).attr('data-errorText');\n    }\n\n    closeOverlay();\n    alert(txtError);\n}\n\nfunction successAjax() {\n    $('#sg_newOrder').submit();\n}\n","/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nlet $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    $ = jQuery;\n\n    // Init and load modal\n    initModal();\n\n    // For modal in checkout, load js after updated page checkout with ajax\n    $('body').on('updated_checkout', function () {\n        initModal();\n    });\n    // For modal in cart, load js after updated page checkout with ajax\n    $('body').on('updated_wc_div', function () {\n        initModal();\n    });\n});\n\nexport function initModal() {\n    if ($('[data-modal=\"sep_openModal\"]').length) {\n        let $modal;\n        let solutionSelector = '.sep-Simulations-solution [data-js=\"selectSolutionSimulation\"]';\n\n        addEventChangeSimulation(solutionSelector);\n\n        $('[data-modal=\"sep_openModal\"]').off().on('click', function (e) {\n            e.preventDefault();\n            if ($($(this)).length) {\n                if($($(this).attr('data-idmodal')).length) {\n                    $modal = $($(this).attr('data-idmodal'));\n                }\n                else if($($(this).attr('href')).length) {\n                    $modal = $($(this).attr('href'));\n                }\n\n                if (typeof $modal !== 'undefined' && $modal) {\n                    openModal($modal);\n                }\n            }\n        });\n    }\n}\n\nconst openModal = function openModal($modal) {\n    if (typeof $modal !== 'undefined' && $modal.length) {\n        $modal.show();\n        eventCloseModal($modal);\n    }\n}\n\nfunction eventCloseModal($modal) {\n    if (typeof $modal !== 'undefined' && $modal.length) {\n        $modal.off().on('click', function (event) {\n            if (typeof event !== 'undefined' &&\n                $(event.target).length &&\n                $(event.target).attr('id') === $modal.attr('id')) {\n                $modal.hide();\n            }\n        });\n        if ($modal.find('.close').length) {\n            $modal.find('.close').off().on('click', function () {\n                $modal.hide();\n            });\n        }\n    }\n}\n\n\nfunction addEventChangeSimulation(solutionSelector) {\n    if($(solutionSelector).length) {\n        $(solutionSelector).each(function (i, elm) {\n            if (typeof elm !== 'undefined' && $(elm).length) {\n                let idSolution = $(elm).attr('data-id');\n                if(typeof idSolution !== 'undefined' && idSolution) {\n                    let idGroupSolution = $(elm).attr('data-groupid');\n                    $(elm).off().on('click', function (e) {\n                        e.preventDefault();\n                        let idGroupSolutionSelect = '.sep-Simulations-groupSolution[data-id=\"' + idGroupSolution + '\"]';\n                        $(idGroupSolutionSelect + ' .sep-Simulations-solution').hide();\n                        $(idGroupSolutionSelect + ' .sep-Simulations-solution[data-id=\"' + idSolution + '\"]').show();\n                        return;\n                    });\n                }\n\n            }\n        });\n    }\n}\n","/**\r\n * Copyright © Scalexpert.\r\n * This file is part of Scalexpert plugin for PrestaShop.\r\n *\r\n * @author    Société Générale\r\n * @copyright Scalexpert\r\n */\r\n\r\nlet $;\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    $ = jQuery;\r\n    $('body').on('updated_checkout', function () {\r\n        if ($('input[name=\"payment_method\"]:checked').attr('value') === 'scalexpert') {\r\n            if ($('input[name=\"solutionCode\"]').length === 0) {\r\n                $('#place_order').attr('disabled', '');\r\n            }\r\n        }\r\n        $('input[name=\"payment_method\"]').on('change', function (event) {\r\n            if (typeof event !== 'undefined' && event && $(event.target).length) {\r\n                if ($(event.target).attr('value') === 'scalexpert') {\r\n                    if ($('input[name=\"solutionCode\"]').length === 0) {\r\n                        $('#place_order').attr('disabled', '');\r\n                    } else {\r\n                        $('#place_order').removeAttr('disabled');\r\n                    }\r\n                } else {\r\n                    $('#place_order').removeAttr('disabled');\r\n                }\r\n            }\r\n        });\r\n    });\r\n});","import {initModal} from \"./modal\";\n\nlet $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    $ = jQuery;\n\n    $('body').on('update_variation_values', function (event) {\n        const variation = getSelectedVariation(event);\n        if (variation) updateViews(variation);\n    });\n\n})\n\nconst getSelectedVariation = (event) => {\n    const productForm = event.target.closest('form');\n    const variations = JSON.parse(productForm.getAttribute('data-product_variations'));\n\n    const selectedAttributes = {};\n    $(productForm).find('select[name^=\"attribute_\"]').each(function () {\n        const attributeName = $(this).data('attribute_name');\n        selectedAttributes[attributeName] = $(this).val();\n    });\n\n    return variations.find(function (variation) {\n        return Object.keys(selectedAttributes).every(function (attributeName) {\n            return variation.attributes[attributeName] === selectedAttributes[attributeName];\n        });\n    });\n};\n\nfunction updateViews(variation) {\n    if (!variation.display_price || !variation.variation_id) return;\n\n    $.ajax({\n        method: 'POST',\n        url: '/wp-admin/admin-ajax.php',\n        data: {\n            action: 'sg_solutionView',\n            price: variation.display_price,\n            productId: variation.variation_id,\n        }\n    }).done(function (response) {\n        if (response)\n            updateHtmlContent(response);\n    }).fail(function (xhr, status, error) {\n        // console.error('Erreur AJAX:', error);\n        // console.error('Réponse serveur:', xhr.responseText);\n    });\n\n}\n\nfunction updateHtmlContent(newHtml) {\n    const elements = document.querySelectorAll('.sep-Simulations-Product');\n    if (elements.length > 0) {\n        elements.forEach(element => {\n            element.innerHTML = newHtml;\n            // Reload modal after insert content\n            initModal();\n        });\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nimport './components/modal';\nimport './components/account';\nimport './components/product';\nimport './components/payment';\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["openModal"],"sourceRoot":""}