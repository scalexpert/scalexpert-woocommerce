{"version":3,"file":"scalexpert.js","mappings":"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","sources":["webpack://woo-scalexpert/./js/components/account.js","webpack://woo-scalexpert/./js/components/modal.js","webpack://woo-scalexpert/./js/components/payment.js","webpack://woo-scalexpert/webpack/bootstrap","webpack://woo-scalexpert/webpack/runtime/compat get default export","webpack://woo-scalexpert/webpack/runtime/define property getters","webpack://woo-scalexpert/webpack/runtime/hasOwnProperty shorthand","webpack://woo-scalexpert/webpack/runtime/make namespace object","webpack://woo-scalexpert/./js/front.js","webpack://woo-scalexpert/./scss/front.scss?22a1"],"sourcesContent":["/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nlet $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    $ = jQuery;\n\n\n    let btnNeworder = '#sg_newOrder #newBasket';\n\n    // check if btn in DOM\n    if ($(btnNeworder).length) {\n        createOverlay();\n        addEventOnButtonReOrder(btnNeworder);\n    }\n});\n\nfunction addEventOnButtonReOrder(btnNeworder) {\n    if ($(btnNeworder).length) {\n        // When click btn\n        $(btnNeworder).off().on('click', function (e) {\n            e.preventDefault();\n            callAjax(btnNeworder);\n            return;\n        });\n    }\n}\n\nfunction createOverlay() {\n    let html = '';\n    html += '<div id=\"sg_overlay\"><div class=\"sg_loader\"></div></div>';\n    $('body').append(html);\n}\n\nfunction openOverlay(){\n    $('#sg_overlay').attr('data-open', 'true');\n}\n\nfunction closeOverlay(){\n    $('#sg_overlay').attr('data-open', 'false');\n}\n\nfunction callAjax(btnNeworder) {\n    if ($(btnNeworder).length && typeof sg_recreateCart_object !== 'undefined' && typeof sg_recreateCart_object.ajaxurl !== 'undefined') {\n        let idOrder = parseInt($(btnNeworder).attr('data-orderId'));\n        if (!isNaN(idOrder)) {\n\n            $.ajax({\n                type: 'POST',\n                headers: {\"cache-control\": \"no-cache\"},\n                url: sg_recreateCart_object.ajaxurl,\n                async: true,\n                cache: false,\n                dataType: 'html',\n                data: {\n                    ajax: true,\n                    action: 'sg_recreateCart',\n                    orderID: idOrder\n                },\n                beforeSend: openOverlay()\n            }).success(function (response) {\n                if (typeof response !== 'undefined' && response) {\n                    successAjax();\n                } else {\n                    errorAjax(btnNeworder);\n                }\n            }).error(function () {\n                errorAjax(btnNeworder);\n            });\n        }\n    }\n}\n\nfunction errorAjax(btnNeworder) {\n    let txtError = 'New order creation failed !';\n\n    if($(btnNeworder).attr('data-errorText')) {\n        txtError = $(btnNeworder).attr('data-errorText');\n    }\n\n    closeOverlay();\n    alert(txtError);\n}\n\nfunction successAjax() {\n    $('#sg_newOrder').submit();\n}\n","/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nlet $;\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    $ = jQuery;\n\n    // Init and load modal\n    initModal();\n\n    // For modal in checkout, load js after updated page checkout with ajax\n    $('body').on('updated_checkout', function () {\n        initModal();\n    });\n    // For modal in cart, load js after updated page checkout with ajax\n    $('body').on('updated_wc_div', function () {\n        initModal();\n    });\n});\n\nfunction initModal() {\n    if ($('[data-modal=\"sep_openModal\"]').length) {\n        let $modal;\n        let solutionSelector = '.sep-Simulations-solution [data-js=\"selectSolutionSimulation\"]';\n\n        addEventChangeSimulation(solutionSelector);\n\n        $('[data-modal=\"sep_openModal\"]').off().on('click', function (e) {\n            e.preventDefault();\n            if ($($(this)).length) {\n                if($($(this).attr('data-idmodal')).length) {\n                    $modal = $($(this).attr('data-idmodal'));\n                }\n                else if($($(this).attr('href')).length) {\n                    $modal = $($(this).attr('href'));\n                }\n\n                if (typeof $modal !== 'undefined' && $modal) {\n                    openModal($modal);\n                }\n            }\n        });\n    }\n}\n\nopenModal = function openModal($modal) {\n    if (typeof $modal !== 'undefined' && $modal.length) {\n        $modal.show();\n        eventCloseModal($modal);\n    }\n}\n\nfunction eventCloseModal($modal) {\n    if (typeof $modal !== 'undefined' && $modal.length) {\n        $modal.off().on('click', function (event) {\n            if (typeof event !== 'undefined' &&\n                $(event.target).length &&\n                $(event.target).attr('id') === $modal.attr('id')) {\n                $modal.hide();\n            }\n        });\n        if ($modal.find('.close').length) {\n            $modal.find('.close').off().on('click', function () {\n                $modal.hide();\n            });\n        }\n    }\n}\n\n\nfunction addEventChangeSimulation(solutionSelector) {\n    if($(solutionSelector).length) {\n        $(solutionSelector).each(function (i, elm) {\n            if (typeof elm !== 'undefined' && $(elm).length) {\n                let idSolution = $(elm).attr('data-id');\n                if(typeof idSolution !== 'undefined' && idSolution) {\n                    let idGroupSolution = $(elm).attr('data-groupid');\n                    $(elm).off().on('click', function (e) {\n                        e.preventDefault();\n                        let idGroupSolutionSelect = '.sep-Simulations-groupSolution[data-id=\"' + idGroupSolution + '\"]';\n                        $(idGroupSolutionSelect + ' .sep-Simulations-solution').hide();\n                        $(idGroupSolutionSelect + ' .sep-Simulations-solution[data-id=\"' + idSolution + '\"]').show();\n                        return;\n                    });\n                }\n\n            }\n        });\n    }\n}\n","/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nlet $;\nconst regexPhone = new RegExp(\"^\\\\+?(?:[0-9] ?){6,14}[0-9]$\");\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    $ = jQuery;\n    initPayments();\n\n    // For load js after updated page checkout with ajax\n    $('body').on('updated_checkout', function () {\n        initPayments();\n    });\n});\n\nfunction initPayments() {\n    if ($('.payment_methods input[type=\"radio\"]').length) {\n        changeRadio($('.payment_methods input[type=\"radio\"]:checked'));\n        addEventOnRadio();\n    }\n    checkboxCGV();\n    addEventPaymentButton();\n}\n\nfunction addEventOnRadio() {\n    $('.payment_methods input[type=\"radio\"]').on('change', function (event) {\n        if (typeof event !== 'undefined' && event && $(event.target).length) {\n            changeRadio($(event.target));\n        }\n    });\n}\n\nfunction changeRadio($radio) {\n    if (typeof $radio !== 'undefined' &&\n        $radio &&\n        $radio.length &&\n        $('#place_order').length) {\n        if ($radio.attr('value') === 'scalexpert') {\n            $('#place_order').hide();\n        } else {\n            $('#place_order').show();\n        }\n    }\n}\n\nfunction checkboxCGV() {\n    let $checkboxCGV = $('form.woocommerce-checkout input[type=\"checkbox\"]#terms, form#order_review input[type=\"checkbox\"]#terms');\n\n    if($checkboxCGV.length) {\n        $checkboxCGV.on('change', function (elm) {\n            changeCheckboxCGV(elm.target);\n        })\n    }\n}\n\nfunction changeCheckboxCGV(checkboxCGV) {\n    let $checkboxCGV = $(checkboxCGV);\n    let $paymentButtons = $('.payment_method_scalexpert .sep_financialSolution .sep_financialSolution-buttonPay');\n\n    if($paymentButtons.length) {\n        $paymentButtons.attr('disabled', '').removeAttr('disabled').removeClass('disabled');\n        if(!$checkboxCGV.prop('checked')) {\n            $paymentButtons.attr('disabled', 'disabled').addClass('disabled');\n        }\n    }\n}\n\nfunction addEventPaymentButton() {\n    let $paymentButtons = $('.payment_method_scalexpert .sep_financialSolution .sep_financialSolution-buttonPay');\n    let $inputSolutionCode = $('.payment_method_scalexpert input[name=\"solutionCode\"]');\n\n    if($paymentButtons.length && $inputSolutionCode.length) {\n        $paymentButtons.off().on('click', function() {\n            if(verifyPhone()) {\n                $inputSolutionCode.val($(this).attr('data-solutioncode')); // add solution code in input for next step\n                $('#place_order').submit(); // Submit form commande if valid phone number\n            }\n            else {\n                openModal($('#verify-phone-modal')); // phone number not valid display modal with errors\n            }\n        })\n    }\n}\n\nfunction verifyPhone() {\n    if($('#billing_phone').length) {\n        let $phone = $('#billing_phone').val();\n        if (typeof $phone !== 'undefined' && $phone.length && regexPhone.test($phone)) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        return true\n    }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * Copyright © Scalexpert.\n * This file is part of Scalexpert plugin for PrestaShop.\n *\n * @author    Société Générale\n * @copyright Scalexpert\n */\n\nimport './components/modal';\nimport './components/payment';\nimport './components/account';\n","// extracted by mini-css-extract-plugin\nexport {};"],"names":["openModal","checkboxCGV"],"sourceRoot":""}